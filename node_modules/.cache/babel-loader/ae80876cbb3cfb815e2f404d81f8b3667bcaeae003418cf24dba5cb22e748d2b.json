{"ast":null,"code":"export default {\n  name: 'Preview',\n  props: ['state', 'link'],\n  data() {\n    return {\n      asset: null,\n      linkType: ''\n    };\n  },\n  methods: {\n    close() {\n      this.state.closePreview();\n    }\n  },\n  mounted() {\n    this.linkType = this.link.type.split('/')[0];\n    if (this.linkType == 'image' || this.linkType == 'audio') {\n      this.asset = document.createElement('div');\n      this.asset.style.top = '50%';\n      this.asset.style.left = '50%';\n      this.asset.style.width = '100%';\n      this.asset.style.height = '100%';\n      this.asset.style.position = 'absolute';\n      this.asset.style.transform = 'translate(-50%, -50%)';\n      this.asset.style.objectFit = 'contain';\n      this.asset.style.backgroundColor = '#000';\n      this.asset.style.backgroundSize = 'contain';\n      this.asset.style.backgroundRepeat = 'no-repeat';\n      this.asset.style.backgroundPosition = 'center center';\n      this.asset.style.backgroundImage = `url(${this.linkType == 'audio' ? 'musicNotes.svg' : this.state.URLbase + '/' + this.link.href})`;\n      this.$refs.slideshow.appendChild(this.asset);\n    }\n    if (this.linkType == 'audio') {\n      this.asset = document.createElement('audio');\n      this.asset.controls = true;\n      this.asset.style.position = 'absolute';\n      this.asset.style.left = '50%';\n      this.asset.style.top = '50%';\n      this.asset.loop = true;\n      this.asset.style.transform = 'translate(-50%, -50%)';\n      this.asset.oncanplay = () => {\n        this.asset.play();\n      };\n      this.$refs.slideshow.appendChild(this.asset);\n      this.asset.src = this.state.URLbase + '/' + this.link.href;\n    }\n    if (this.linkType == 'video') {\n      this.asset = document.createElement('video');\n      this.asset.controls = true;\n      this.asset.style.position = 'absolute';\n      this.asset.style.left = '50%';\n      this.asset.style.top = '50%';\n      this.asset.style.width = '100%';\n      this.asset.style.height = '100%';\n      this.asset.style.objectFit = 'contain';\n      this.asset.style.background = '#000';\n      this.asset.loop = true;\n      this.asset.style.transform = 'translate(-50%, -50%)';\n      this.asset.oncanplay = () => {\n        this.asset.play();\n      };\n      this.$refs.slideshow.appendChild(this.asset);\n      this.asset.src = this.state.URLbase + '/' + this.link.href;\n    }\n  },\n  beforeUnmount() {\n    this.asset.src = '';\n  }\n};","map":{"version":3,"names":["name","props","data","asset","linkType","methods","close","state","closePreview","mounted","link","type","split","document","createElement","style","top","left","width","height","position","transform","objectFit","backgroundColor","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","URLbase","href","$refs","slideshow","appendChild","controls","loop","oncanplay","play","src","background","beforeUnmount"],"sources":["/home/whitehotrobot/imjur.42web.io/src/components/Preview.vue"],"sourcesContent":["<template>\r\n  <div class=\"preview\">\r\n    <button @click=\"close()\" class=\"cancelButton\" title=\"close this view\">\r\n      close/cancel\r\n    </button>\r\n    <div class=\"previewInner\">\r\n      <div class=\"slideshow\" ref=\"slideshow\"></div>\r\n      <div v-if=\"state.links.length > 1\" class=\"leftButton\" @click=\"state.prev()\" title=\"view previous asset [left arrow]\"></div>\r\n      <div v-if=\"state.links.length > 1\" class=\"rightButton\" @click=\"state.next()\" title=\"view next asset [right arrow]\"></div>\r\n      <div v-if=\"state.userLinks.length > 1\" class=\"leftButton\" @click=\"state.prev()\" title=\"view previous asset [left arrow]\"></div>\r\n      <div v-if=\"state.userLinks.length > 1\" class=\"rightButton\" @click=\"state.next()\" title=\"view next asset [right arrow]\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Preview',\r\n  props: [ 'state', 'link' ],\r\n  data(){\r\n    return {\r\n      asset: null,\r\n      linkType: ''\r\n    }\r\n  },\r\n  methods: {\r\n    close(){\r\n      this.state.closePreview()\r\n    }\r\n  },\r\n  mounted(){\r\n    this.linkType = this.link.type.split('/')[0]\r\n\r\n    if(this.linkType == 'image' || this.linkType == 'audio'){\r\n      this.asset = document.createElement('div')\r\n      this.asset.style.top = '50%'\r\n      this.asset.style.left = '50%'\r\n      this.asset.style.width = '100%'\r\n      this.asset.style.height = '100%'\r\n      this.asset.style.position = 'absolute'\r\n      this.asset.style.transform = 'translate(-50%, -50%)'\r\n      this.asset.style.objectFit = 'contain'\r\n      this.asset.style.backgroundColor = '#000'\r\n      this.asset.style.backgroundSize = 'contain'\r\n      this.asset.style.backgroundRepeat = 'no-repeat'\r\n      this.asset.style.backgroundPosition = 'center center'\r\n      this.asset.style.backgroundImage = `url(${this.linkType == 'audio' ? 'musicNotes.svg' : this.state.URLbase + '/' + this.link.href})`\r\n      this.$refs.slideshow.appendChild(this.asset)\r\n    }\r\n    if(this.linkType == 'audio'){\r\n      this.asset = document.createElement('audio')\r\n      this.asset.controls = true\r\n      this.asset.style.position = 'absolute'\r\n      this.asset.style.left = '50%'\r\n      this.asset.style.top = '50%'\r\n      this.asset.loop = true\r\n      this.asset.style.transform = 'translate(-50%, -50%)'\r\n      this.asset.oncanplay = () => {\r\n        this.asset.play()\r\n      }\r\n      this.$refs.slideshow.appendChild(this.asset)\r\n      this.asset.src = this.state.URLbase + '/' + this.link.href\r\n    }\r\n    if(this.linkType == 'video'){\r\n      this.asset = document.createElement('video')\r\n      this.asset.controls = true\r\n      this.asset.style.position = 'absolute'\r\n      this.asset.style.left = '50%'\r\n      this.asset.style.top = '50%'\r\n      this.asset.style.width = '100%'\r\n      this.asset.style.height = '100%'\r\n      this.asset.style.objectFit = 'contain'\r\n      this.asset.style.background = '#000'\r\n      this.asset.loop = true\r\n      this.asset.style.transform = 'translate(-50%, -50%)'\r\n      this.asset.oncanplay = () => {\r\n        this.asset.play()\r\n      }\r\n      this.$refs.slideshow.appendChild(this.asset)\r\n      this.asset.src = this.state.URLbase + '/' + this.link.href\r\n    }\r\n  },\r\n  beforeUnmount(){\r\n    this.asset.src = ''\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .preview{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1000;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    font-size: 14px;\r\n  }\r\n  .cancelButton{\r\n    background: #822;\r\n    color: #f88;\r\n    text-shadow: 1px 1px 3px #40f;\r\n    font-weight: 900;\r\n    width: 125px;\r\n    font-family: Courier Prime;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    padding: 5px;\r\n    position: absolute;\r\n    z-index: 1100;\r\n    right: 20px;\r\n    top: 14px;\r\n  }\r\n  .slideshow{\r\n    margin: 100px;\r\n    height: 100%;\r\n    width: 100%;\r\n    border: 1px solid red;\r\n  }\r\n  .leftButton, .rightButton{\r\n    width: 100px;\r\n    height: 100px;\r\n    position: fixed;\r\n    top: 50%;\r\n    transform: translate(0, -50%);\r\n    background-repeat: no-repeat;\r\n    background-position: center center;\r\n    background-size: contain;\r\n    cursor: pointer;\r\n  }\r\n  .leftButton{\r\n    background-image: url(../assets/leftButton.png);\r\n    left: 10px;\r\n  }\r\n  .rightButton{\r\n    background-image: url(../assets/rightButton.png);\r\n    right: 10px;\r\n  }\r\n  .previewInner{\r\n    text-align: center;\r\n    padding: 25px;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 25px;\r\n    color: #fff;\r\n    text-shadow: 2px 2px 2px #000;\r\n    background: #001b;\r\n  }\r\n</style>"],"mappings":"AAgBA,eAAe;EACbA,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,CAAE,OAAO,EAAE,MAAK,CAAG;EAC1BC,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAKA,CAAA,EAAE;MACL,IAAI,CAACC,KAAK,CAACC,YAAY,CAAC;IAC1B;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,IAAI,CAACL,QAAO,GAAI,IAAI,CAACM,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAE3C,IAAG,IAAI,CAACR,QAAO,IAAK,OAAM,IAAK,IAAI,CAACA,QAAO,IAAK,OAAO,EAAC;MACtD,IAAI,CAACD,KAAI,GAAIU,QAAQ,CAACC,aAAa,CAAC,KAAK;MACzC,IAAI,CAACX,KAAK,CAACY,KAAK,CAACC,GAAE,GAAI,KAAI;MAC3B,IAAI,CAACb,KAAK,CAACY,KAAK,CAACE,IAAG,GAAI,KAAI;MAC5B,IAAI,CAACd,KAAK,CAACY,KAAK,CAACG,KAAI,GAAI,MAAK;MAC9B,IAAI,CAACf,KAAK,CAACY,KAAK,CAACI,MAAK,GAAI,MAAK;MAC/B,IAAI,CAAChB,KAAK,CAACY,KAAK,CAACK,QAAO,GAAI,UAAS;MACrC,IAAI,CAACjB,KAAK,CAACY,KAAK,CAACM,SAAQ,GAAI,uBAAsB;MACnD,IAAI,CAAClB,KAAK,CAACY,KAAK,CAACO,SAAQ,GAAI,SAAQ;MACrC,IAAI,CAACnB,KAAK,CAACY,KAAK,CAACQ,eAAc,GAAI,MAAK;MACxC,IAAI,CAACpB,KAAK,CAACY,KAAK,CAACS,cAAa,GAAI,SAAQ;MAC1C,IAAI,CAACrB,KAAK,CAACY,KAAK,CAACU,gBAAe,GAAI,WAAU;MAC9C,IAAI,CAACtB,KAAK,CAACY,KAAK,CAACW,kBAAiB,GAAI,eAAc;MACpD,IAAI,CAACvB,KAAK,CAACY,KAAK,CAACY,eAAc,GAAK,OAAM,IAAI,CAACvB,QAAO,IAAK,OAAM,GAAI,gBAAe,GAAI,IAAI,CAACG,KAAK,CAACqB,OAAM,GAAI,GAAE,GAAI,IAAI,CAAClB,IAAI,CAACmB,IAAK,GAAC;MACnI,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,WAAW,CAAC,IAAI,CAAC7B,KAAK;IAC7C;IACA,IAAG,IAAI,CAACC,QAAO,IAAK,OAAO,EAAC;MAC1B,IAAI,CAACD,KAAI,GAAIU,QAAQ,CAACC,aAAa,CAAC,OAAO;MAC3C,IAAI,CAACX,KAAK,CAAC8B,QAAO,GAAI,IAAG;MACzB,IAAI,CAAC9B,KAAK,CAACY,KAAK,CAACK,QAAO,GAAI,UAAS;MACrC,IAAI,CAACjB,KAAK,CAACY,KAAK,CAACE,IAAG,GAAI,KAAI;MAC5B,IAAI,CAACd,KAAK,CAACY,KAAK,CAACC,GAAE,GAAI,KAAI;MAC3B,IAAI,CAACb,KAAK,CAAC+B,IAAG,GAAI,IAAG;MACrB,IAAI,CAAC/B,KAAK,CAACY,KAAK,CAACM,SAAQ,GAAI,uBAAsB;MACnD,IAAI,CAAClB,KAAK,CAACgC,SAAQ,GAAI,MAAM;QAC3B,IAAI,CAAChC,KAAK,CAACiC,IAAI,CAAC;MAClB;MACA,IAAI,CAACN,KAAK,CAACC,SAAS,CAACC,WAAW,CAAC,IAAI,CAAC7B,KAAK;MAC3C,IAAI,CAACA,KAAK,CAACkC,GAAE,GAAI,IAAI,CAAC9B,KAAK,CAACqB,OAAM,GAAI,GAAE,GAAI,IAAI,CAAClB,IAAI,CAACmB,IAAG;IAC3D;IACA,IAAG,IAAI,CAACzB,QAAO,IAAK,OAAO,EAAC;MAC1B,IAAI,CAACD,KAAI,GAAIU,QAAQ,CAACC,aAAa,CAAC,OAAO;MAC3C,IAAI,CAACX,KAAK,CAAC8B,QAAO,GAAI,IAAG;MACzB,IAAI,CAAC9B,KAAK,CAACY,KAAK,CAACK,QAAO,GAAI,UAAS;MACrC,IAAI,CAACjB,KAAK,CAACY,KAAK,CAACE,IAAG,GAAI,KAAI;MAC5B,IAAI,CAACd,KAAK,CAACY,KAAK,CAACC,GAAE,GAAI,KAAI;MAC3B,IAAI,CAACb,KAAK,CAACY,KAAK,CAACG,KAAI,GAAI,MAAK;MAC9B,IAAI,CAACf,KAAK,CAACY,KAAK,CAACI,MAAK,GAAI,MAAK;MAC/B,IAAI,CAAChB,KAAK,CAACY,KAAK,CAACO,SAAQ,GAAI,SAAQ;MACrC,IAAI,CAACnB,KAAK,CAACY,KAAK,CAACuB,UAAS,GAAI,MAAK;MACnC,IAAI,CAACnC,KAAK,CAAC+B,IAAG,GAAI,IAAG;MACrB,IAAI,CAAC/B,KAAK,CAACY,KAAK,CAACM,SAAQ,GAAI,uBAAsB;MACnD,IAAI,CAAClB,KAAK,CAACgC,SAAQ,GAAI,MAAM;QAC3B,IAAI,CAAChC,KAAK,CAACiC,IAAI,CAAC;MAClB;MACA,IAAI,CAACN,KAAK,CAACC,SAAS,CAACC,WAAW,CAAC,IAAI,CAAC7B,KAAK;MAC3C,IAAI,CAACA,KAAK,CAACkC,GAAE,GAAI,IAAI,CAAC9B,KAAK,CAACqB,OAAM,GAAI,GAAE,GAAI,IAAI,CAAClB,IAAI,CAACmB,IAAG;IAC3D;EACF,CAAC;EACDU,aAAaA,CAAA,EAAE;IACb,IAAI,CAACpC,KAAK,CAACkC,GAAE,GAAI,EAAC;EACpB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}